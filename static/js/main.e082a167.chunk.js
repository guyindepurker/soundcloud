(this.webpackJsonpsoundcloudapp=this.webpackJsonpsoundcloudapp||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),a=n(12),s=n.n(a),i=(n(39),n(40),n(41),n(42),n(6)),o=n(7),u=n.n(o),l=n(8),h=(n(44),n(30)),j=n(31),f=(n(54),n(1)),d=function(e){var t=e.searchTracks,n=e.isLoading,r=Object(c.useState)(""),a=Object(i.a)(r,2),s=a[0],o=a[1],u=function(e){e.preventDefault(),""!==s&&t(s)};return Object(f.jsxs)("form",{className:"search-input flex center-center",onSubmit:u,children:[Object(f.jsxs)("span",{className:"p-input-icon-left",children:[Object(f.jsx)("i",{className:"pi pi-search"}),Object(f.jsx)(h.InputText,{value:s,onChange:function(e){var t=e.target;return o(t.value)},placeholder:"Search Tracks"})]}),Object(f.jsx)(j.Button,{label:"Submit",loading:n,onClick:u})]})},b=n(15),p=n(32),x=(n(56),function(e){var t=e.toggleSearchView,n=e.nextPageResults;return Object(f.jsxs)("section",{className:"search-buttons flex space-between",children:[Object(f.jsx)(p.a,{"data-pr-position":"top",className:"next-page",onClick:n}),Object(f.jsxs)("div",{className:"display-btns",children:[Object(f.jsx)(b.a,{className:"grid-view",onClick:function(){return t("tile")}}),Object(f.jsx)(b.b,{onClick:function(){return t("list")}})]})]})}),v=n(16),O=n.n(v),g={save:function(e,t){localStorage.setItem(e,JSON.stringify(t))},load:function(e){var t=localStorage.getItem(e);return JSON.parse(t)},remove:function(e){localStorage.removeItem(e)}};var m="search_view",S="history_DB",w="https://api.soundcloud.com/tracks?linked_partitioning=1&client_id=".concat("ggX0UomnLs0VmW7qZnCzw","&limit=6"),k={getSearchResults:function(e){return N.apply(this,arguments)},getNextPageResults:function(e){return R.apply(this,arguments)},getSearchView:function(){return g.load(m)||"list"},getRecentSearch:y,saveSearchView:function(e){g.save(m,e)},saveRecentSearch:function(e){var t=y();t.unshift(e),t.length>5&&t.splice(5);return g.save(S,t),t}};function N(){return(N=Object(l.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("".concat(w,"&q=").concat(t));case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function R(){return(R=Object(l.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get(t);case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function y(){return g.load(S)||[]}var T=n(33),C=(n(76),n(77),function(e){var t=e.searchResult,n=e.defaultImgUrl,c=e.setSelectedTrack,r=t.artwork_url,a=t.title;return Object(f.jsxs)("li",{onClick:function(){return c(t)},className:"search-result-preview flex  align-center",children:[Object(f.jsx)("img",{className:"search-result-preview-img",src:r||n,alt:"img cover"}),Object(f.jsx)("h2",{className:"search-result-preview-title",children:a})]})}),V=function(e){var t=e.searchResults,n=e.searchView,c=e.isLoadingList,r=e.setSelectedTrack,a=t.find((function(e){return null!==e.artwork_url})).artwork_url;return c?Object(f.jsx)("div",{className:"flex center-center",children:Object(f.jsx)(T.ProgressSpinner,{})}):Object(f.jsx)("ul",{className:"search-result-list clean-list ".concat("tile"===n?"grid":""),children:t.map((function(e){return Object(f.jsx)(C,{setSelectedTrack:r,defaultImgUrl:a,searchView:n,searchResult:e},e.id)}))})},L=function(e){var t=e.setRecentSearch,n=e.recentSearchQuery,r=e.setSelectedTrack,a=Object(c.useState)([]),s=Object(i.a)(a,2),o=s[0],h=s[1],j=Object(c.useState)(null),b=Object(i.a)(j,2),p=b[0],v=b[1],O=Object(c.useState)(k.getSearchView()),g=Object(i.a)(O,2),m=g[0],S=g[1],w=Object(c.useState)(!1),N=Object(i.a)(w,2),R=N[0],y=N[1],T=Object(c.useState)(!1),C=Object(i.a)(T,2),L=C[0],I=C[1],_=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I(!0),e.next=4,k.getSearchResults(t);case 4:n=e.sent,P(n),I(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("ERROR!",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){n&&_(n)}),[n]);var P=function(e){h(null===e||void 0===e?void 0:e.collection),v(null===e||void 0===e?void 0:e.next_href)},B=function(){var e=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),t(n),e.next=4,_(n);case 4:y(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,I(!0),e.next=6,k.getNextPageResults(p);case 6:t=e.sent,I(!1),P(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("ERROR!",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("section",{className:"search-container",children:[Object(f.jsx)(d,{isLoading:R,searchTracks:B}),o.length>0&&Object(f.jsx)(V,{setSelectedTrack:r,searchView:m,isLoadingList:L,searchResults:o}),Object(f.jsx)(x,{toggleSearchView:function(e){S(e),k.saveSearchView(e)},nextPageResults:F})]})},I=n(34),_=n.n(I),P=(n(97),function(e){var t=e.selectedTrack;return t?Object(f.jsx)("section",{className:"player-container flex center-center",children:Object(f.jsx)(_.a,{width:"400px",height:"200px",url:t.uri})}):null}),B=(n(98),n(99),n(100),function(e){var t=e.recentSearch,n=e.onSetSearch;return Object(f.jsx)("li",{onClick:function(){return n(t)},className:"recent-search-preview",children:t})}),F=function(e){var t=e.recentSearches,n=e.onSetSearch;return Object(f.jsx)("ul",{className:"recent-search-list clean-list",children:t.map((function(e,t){return Object(f.jsx)(B,{onSetSearch:n,recentSearch:e},t)}))})},E=function(e){var t=e.recentSearches,n=e.onSetSearch;return Object(f.jsxs)("section",{className:"recent-searches flex center-center column",children:[Object(f.jsx)("h2",{className:"recent-search-title",children:"Your recent search"}),t.length?Object(f.jsx)(F,{onSetSearch:n,recentSearches:t}):Object(f.jsx)("span",{children:"No searches yet..."})]})},J=function(){var e=Object(c.useState)(k.getRecentSearch()),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),s=Object(i.a)(a,2),o=s[0],u=s[1],l=Object(c.useState)(null),h=Object(i.a)(l,2),j=h[0],d=h[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(L,{setSelectedTrack:d,recentSearchQuery:o,setRecentSearch:function(e){var t=k.saveRecentSearch(e);r(t)}}),Object(f.jsx)(P,{selectedTrack:j}),Object(f.jsx)(E,{onSetSearch:u,recentSearches:n})]})},D=n.p+"static/media/logo.d7f3b5e6.svg",U=(n(101),function(){return Object(f.jsx)("header",{className:"header",children:Object(f.jsx)("div",{className:"header-container",children:Object(f.jsxs)("div",{className:"logo flex",children:[Object(f.jsx)("img",{className:"logo-img",src:D,alt:"logo"}),Object(f.jsx)("span",{children:"SoundCloud"})]})})})});var W=function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(U,{}),Object(f.jsx)("main",{className:"flex column",children:Object(f.jsx)(J,{})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,103)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(W,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),q()},42:function(e,t,n){},44:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.e082a167.chunk.js.map